(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{411:function(a,t,r){"use strict";r.r(t);var e=r(26),s=Object(e.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h2",{attrs:{id:"概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[a._v("#")]),a._v(" 概念")]),a._v(" "),r("h3",{attrs:{id:"声明式与命令式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#声明式与命令式"}},[a._v("#")]),a._v(" 声明式与命令式")]),a._v(" "),r("p",[a._v("声明式与命令式都属于编程范式。")]),a._v(" "),r("h3",{attrs:{id:"什么是副作用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是副作用"}},[a._v("#")]),a._v(" 什么是副作用")]),a._v(" "),r("ul",[r("li",[a._v("ajax 请求数据，格式化数据")]),a._v(" "),r("li",[a._v("定时器")]),a._v(" "),r("li",[a._v("异步")]),a._v(" "),r("li",[a._v("设置 or 取消 事件订阅")]),a._v(" "),r("li",[a._v("手动操作 dom")])]),a._v(" "),r("h2",{attrs:{id:"使用-hooks"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用-hooks"}},[a._v("#")]),a._v(" 使用 hooks")]),a._v(" "),r("h3",{attrs:{id:"useref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#useref"}},[a._v("#")]),a._v(" useRef")]),a._v(" "),r("h4",{attrs:{id:"是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#是什么"}},[a._v("#")]),a._v(" 是什么")]),a._v(" "),r("ul",[r("li",[a._v("useRef 可以认为是组件中的一个变量，不随组件的 update 变化")]),a._v(" "),r("li",[a._v("修改是同步的，与 state 不同，修改后可以即时拿到最新的值")]),a._v(" "),r("li",[a._v("不会触发响应式操作，如：作为 useMemo 的依赖，触发计算更新")])]),a._v(" "),r("h4",{attrs:{id:"解决什么问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解决什么问题"}},[a._v("#")]),a._v(" 解决什么问题")]),a._v(" "),r("p",[a._v("有时候我们需要一些变量存储数据，并且这些数据与视图的渲染没有直接关系，如果使用 state，修改时会重新出发组件 update，这并不是我们希望的，这是会用到 useRef。")]),a._v(" "),r("h4",{attrs:{id:"使用场景"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[a._v("#")]),a._v(" 使用场景")]),a._v(" "),r("ul",[r("li",[a._v("作为定时器的唯一标识")]),a._v(" "),r("li",[a._v("作为初始化数据的备份，用于在退出时作对比，进行二次确认")]),a._v(" "),r("li",[a._v("获取 dom")])]),a._v(" "),r("h3",{attrs:{id:"自定义-hook"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#自定义-hook"}},[a._v("#")]),a._v(" 自定义 hook")]),a._v(" "),r("h4",{attrs:{id:"是什么-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#是什么-2"}},[a._v("#")]),a._v(" 是什么")]),a._v(" "),r("ul",[r("li",[a._v("是一个命名使用 "),r("code",[a._v("use")]),a._v(" 开头的函数")]),a._v(" "),r("li",[a._v("在函数内部可以使用 react hooks，如：useMemo，"),r("strong",[a._v("可传入必要参数返回给调用方组件渲染视图需要的数据和事件函数")])]),a._v(" "),r("li",[a._v("封装可复用的处理状态的逻辑，自定义 hook 对外暴露渲染视图需要的状态，调用方去用就好，如果需要修改，自定义 hook 会暴露方法，调用方只管调用，不必关心状态细节：怎么来的，如何修改的。")])]),a._v(" "),r("p",[a._v("我暴露给你 渲染用的状态   你就去用   如果需要修改   我暴露给你方法    你直接调   你不需要关心   状态怎么来的  也不需要关心状态怎么改的")]),a._v(" "),r("h4",{attrs:{id:"使用场景-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用场景-2"}},[a._v("#")]),a._v(" 使用场景")]),a._v(" "),r("p",[a._v("react 官方建议 "),r("strong",[a._v("声明式")]),a._v(" 编码，组件只关心："),r("strong",[a._v("用状态渲染视图")]),a._v("，至于一些 "),r("strong",[a._v("副作用")]),a._v(" 代码、包括状态是怎么来的，如何格式化，渲染什么样的视图，用户交互会触发什么事件如何更新状态，这部分的逻辑都可以封装在一个自定义 hook 当中。")]),a._v(" "),r("ul",[r("li",[a._v("ajax 请求数据，format，返回给调用方组件使用")]),a._v(" "),r("li",[a._v("封装各种基本数据类型状态，如：Boolean，对外暴露 open close 即可")]),a._v(" "),r("li",[a._v("封装业务层面的逻辑，如埋点上报、前端监控、获取登录状态等")])]),a._v(" "),r("h2",{attrs:{id:"react-插件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#react-插件"}},[a._v("#")]),a._v(" react 插件")]),a._v(" "),r("h3",{attrs:{id:"loadable-component"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loadable-component"}},[a._v("#")]),a._v(" @loadable/component")]),a._v(" "),r("p",[a._v("代码分割，实现组件懒加载，多用于路由加载")]),a._v(" "),r("p",[r("a",{attrs:{href:"https://loadable-components.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("地址"),r("OutboundLink")],1)]),a._v(" "),r("h3",{attrs:{id:"react-window"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#react-window"}},[a._v("#")]),a._v(" react-window")]),a._v(" "),r("p",[a._v("解决虚拟滚动问题，antd 官方使用")]),a._v(" "),r("p",[r("a",{attrs:{href:"https://loadable-components.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("地址"),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);