(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{445:function(v,_,t){"use strict";t.r(_);var e=t(26),o=Object(e.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("p",[v._v("菜单权限控制是值用户在访问系统时，根据用户的身份限制用户能够访问的菜单项")]),v._v(" "),t("h2",{attrs:{id:"如何实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何实现"}},[v._v("#")]),v._v(" 如何实现")]),v._v(" "),t("ol",[t("li",[t("p",[v._v("前端配置"),t("strong",[v._v("默认路由列表")]),v._v("、"),t("strong",[v._v("全部权限路由列表")])])]),v._v(" "),t("li",[t("p",[v._v("默认路由对象一般只配置 * 和 /")])]),v._v(" "),t("li",[t("p",[v._v("服务器端定义接口，根据用户信息返回该用户的"),t("strong",[v._v("实际权限路由列表标识")])])]),v._v(" "),t("li",[t("p",[v._v("前端在 "),t("code",[v._v("main.js")]),v._v(" 中设置路由的 "),t("code",[v._v("beforeEach")]),v._v(" 钩子，在用户访问每个页面时，请求权限校验接口，拿到"),t("strong",[v._v("实际权限路由列表标识")])])]),v._v(" "),t("li",[t("p",[v._v("处理"),t("strong",[v._v("实际权限路由列表标识")]),v._v("和"),t("strong",[v._v("全部权限路由列表")]),v._v("得到"),t("strong",[v._v("实际权限路由列表")])])]),v._v(" "),t("li",[t("p",[v._v("将"),t("strong",[v._v("实际权限路由列表")]),v._v("动态添加到"),t("strong",[v._v("默认路由列表")]),v._v("中得到"),t("strong",[v._v("该用户真实路由列表")])]),v._v(" "),t("p",[t("code",[v._v("router.addRoutes()")])]),v._v(" "),t("p",[t("code",[v._v("next({...to, replace:true})")])]),v._v(" "),t("p",[v._v("由于addRoute  有可能不会马上成功  所以官方推荐加上replace（消除历史记录）")])]),v._v(" "),t("li",[t("p",[v._v("实际权限路由标识列表缓存在 "),t("code",[v._v("vuex")]),v._v(" 中一份，减少接口调用次数")])])])])}),[],!1,null,null,null);_.default=o.exports}}]);